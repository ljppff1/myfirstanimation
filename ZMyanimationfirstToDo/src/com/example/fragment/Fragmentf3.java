package com.example.fragment;import com.example.utils.Content;import com.example.zmyanimationfirsttodo.R;import android.app.Activity;import android.os.Bundle;import android.os.Handler;import android.support.annotation.Nullable;import android.support.v4.app.Fragment;import android.view.LayoutInflater;import android.view.View;import android.view.View.OnClickListener;import android.view.ViewGroup;import android.view.animation.Animation;import android.view.animation.CycleInterpolator;import android.view.animation.TranslateAnimation;import android.widget.ListView;import android.widget.ProgressBar;import android.widget.RelativeLayout;import android.widget.Toast;public class Fragmentf3 extends Fragment implements com.example.zmyanimationfirsttodo.MainActivity.OnArticleSelectedListener{	private View shake_img;	private TranslateAnimation mShakeAnimation;    private Boolean flag=false;	private RelativeLayout mRlasdf;	private RelativeLayout mRlasdf1;		/*public interface OnArticleSelectedListener {		public void onArticleSelected();	}		private OnArticleSelectedListener mListener;	@Override	public void onAttach(Activity activity) {		super.onAttach(activity);		try {			mListener = (OnArticleSelectedListener) activity;		} catch (ClassCastException e) {			throw new ClassCastException(activity.toString() + "**** must implement OnArticleSelectedListener");		}	}*/ //	mListener.onArticleSelected();// ----- 发送消息	@Override	public View onCreateView(LayoutInflater inflater,			@Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {			View view =inflater.inflate(R.layout.fragmentf3, container, false);			shake_img =view.findViewById(R.id.shake_img);			mRlasdf =(RelativeLayout)view.findViewById(R.id.mRlasdf);			mRlasdf1 =(RelativeLayout)view.findViewById(R.id.mRlasdf1);			mRlasdf1.setVisibility(View.GONE);			getActivity().findViewById(R.id.shake_img5).setVisibility(View.GONE);/*			getActivity().findViewById(R.id.shake_img5).setOnClickListener(new OnClickListener() {								@Override				public void onClick(View v) {					getActivity().findViewById(R.id.shake_img5).setVisibility(View.GONE);					mRlasdf1.setVisibility(View.VISIBLE);										Content.mfirst =false;				}			});*/			mRlasdf.setVisibility(View.GONE);			Content.mfirst =false;						mShakeAnimation = new TranslateAnimation(0, 0, 0, 10);			mShakeAnimation.setInterpolator(new CycleInterpolator(1));			mShakeAnimation.setDuration(400);			mShakeAnimation.setRepeatCount(-1);			mShakeAnimation.setRepeatMode(Animation.REVERSE);			shake_img.startAnimation(mShakeAnimation);            			/*new Thread(new Runnable() {								@Override				public void run() {					handler.sendEmptyMessage(0);					for(int i=0;i<10000;i++){						try {							Thread.sleep(400);						} catch (InterruptedException e) {							// TODO Auto-generated catch block							e.printStackTrace();						}					}									}			}).start();*/						shake_img.setOnClickListener(listener);					    return view;	}	OnClickListener listener =new OnClickListener() {				@Override		public void onClick(View v) {			switch (v.getId()) {			case R.id.shake_img:				//Toast.makeText(getActivity(), "what do you want to do ", 1).show();				mShakeAnimation.cancel();				mRlasdf.setVisibility(View.VISIBLE);				getActivity().findViewById(R.id.shake_img5).setVisibility(View.VISIBLE);                 				shake_img.setVisibility(View.GONE);				shake_img.setClickable(false);				Content.mfirst =true;				flag =true;				break;			default:				break;			}		}	};	private Handler handler =new Handler(){		public void handleMessage(android.os.Message msg) {					mShakeAnimation = new TranslateAnimation(0, 0, 0, 10);			mShakeAnimation.setInterpolator(new CycleInterpolator(1));			mShakeAnimation.setDuration(400);			mShakeAnimation.setRepeatCount(-1);			mShakeAnimation.setRepeatMode(Animation.REVERSE);//璁剧疆鍙嶆柟鍚戞墽琛� 			if(!flag){			shake_img.startAnimation(mShakeAnimation);			}else{				shake_img.setVisibility(View.GONE);			}		};	};	@Override	public void onArticleSelected() {		mRlasdf1.setVisibility(View.VISIBLE);	}}